# Pylint-Ignore

**WARNING: This file is programmatically generated.**

This file is parsed by [`pylint-ignore`](https://pypi.org/project/pylint-ignore/)
to determine which
[Pylint messages](https://pylint.pycqa.org/en/stable/technical_reference/features.html)
should be ignored.

- Do not edit this file manually.
- To update, use `pylint-ignore --update-ignorefile`

The recommended approach to using `pylint-ignore` is:

1. If a message refers to a valid issue, update your code rather than
   ignoring the message.
2. If a message should *always* be ignored (globally), then to do so
   via the usual `pylintrc` or `setup.cfg` files rather than this
   `pylint-ignore.md` file.
3. If a message is a false positive, add a comment of this form to your code:
   `# pylint:disable=<symbol> ; explain why this is a false positive`


# Overview

 - [E1120: no-value-for-parameter (1x)](#e1120-no-value-for-parameter)
 - [W0212: protected-access (1x)](#w0212-protected-access)
 - [W0612: unused-variable (1x)](#w0612-unused-variable)
 - [W0621: redefined-outer-name (14x)](#w0621-redefined-outer-name)
 - [W0703: broad-except (3x)](#w0703-broad-except)
 - [W1514: unspecified-encoding (11x)](#w1514-unspecified-encoding)
 - [C0103: invalid-name (6x)](#c0103-invalid-name)
 - [C0116: missing-function-docstring (4x)](#c0116-missing-function-docstring)
 - [C0201: consider-iterating-dictionary (1x)](#c0201-consider-iterating-dictionary)
 - [C0206: consider-using-dict-items (1x)](#c0206-consider-using-dict-items)
 - [C0209: consider-using-f-string (40x)](#c0209-consider-using-f-string)
 - [R0401: cyclic-import (1x)](#r0401-cyclic-import)
 - [R0801: duplicate-code (3x)](#r0801-duplicate-code)
 - [R0902: too-many-instance-attributes (1x)](#r0902-too-many-instance-attributes)
 - [R0912: too-many-branches (13x)](#r0912-too-many-branches)
 - [R0913: too-many-arguments (6x)](#r0913-too-many-arguments)
 - [R0914: too-many-locals (11x)](#r0914-too-many-locals)
 - [R0915: too-many-statements (4x)](#r0915-too-many-statements)
 - [R0916: too-many-boolean-expressions (1x)](#r0916-too-many-boolean-expressions)
 - [R1702: too-many-nested-blocks (1x)](#r1702-too-many-nested-blocks)
 - [R1710: inconsistent-return-statements (1x)](#r1710-inconsistent-return-statements)
 - [R1714: consider-using-in (4x)](#r1714-consider-using-in)
 - [R1720: no-else-raise (2x)](#r1720-no-else-raise)
 - [R1735: use-dict-literal (3x)](#r1735-use-dict-literal)


# E1120: no-value-for-parameter

## File ecl2df/hook_implementations/jobs.py - Line 48 - E1120 (no-value-for-parameter)

- `message: No value for argument 'func' in function call`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  46:
  47: @hook_implementation
> 48: @plugin_response(plugin_name="ecl2df")
  49: def job_documentation(job_name):
  50:     ecl2df_jobs = set(installable_jobs().data.keys())
```


# W0212: protected-access

## File ecl2df/common.py - Line 304 - W0212 (protected-access)

- `message: Access to a protected member __defaulted of a client class`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  238: def parse_opmio_deckrecord(
  ...
  302:                     # been found in the OPM API. See also
  303:                     # https://github.com/OPM/opm-common/issues/2598
> 304:                     if record[item_idx].__defaulted(idx):
  305:                         rec_dict[item_name][idx] = np.nan
  306:         else:
```


# W0612: unused-variable

## File ecl2df/compdat.py - Line 492 - W0612 (unused-variable)

- `message: Unused variable 'idx'`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  440: def expand_wlist(wlist_df: pd.DataFrame) -> pd.DataFrame:
  ...
  490:     new_records = []
  491:
> 492:     for idx, wlist_record in wlist_df.iterrows():
  493:         date = wlist_record["DATE"]
  494:         if date > currentdate:
```


# W0621: redefined-outer-name

## File ecl2df/faults.py - Line 86 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 26)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  84: def faults_main(args) -> None:
  85:     """Read from disk and write CSV back to disk"""
> 86:     logger = getLogger_ecl2csv(__name__, vars(args))
  87:     eclfiles = EclFiles(args.DATAFILE)
  88:     if eclfiles:
```


## File ecl2df/wcon.py - Line 94 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 25)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  92: def wcon_main(args) -> None:
  93:     """Read from disk and write CSV back to disk"""
> 94:     logger = getLogger_ecl2csv(__name__, vars(args))
  95:     eclfiles = EclFiles(args.DATAFILE)
  96:     if eclfiles:
```


## File ecl2df/fipreports.py - Line 212 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 16)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  210: def fipreports_main(args) -> None:
  211:     """Command line API"""
> 212:     logger = getLogger_ecl2csv(__name__, vars(args))
  213:     if args.PRTFILE.endswith(".PRT"):
  214:         prtfile = args.PRTFILE
```


## File ecl2df/satfunc.py - Line 221 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 33)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  219: def satfunc_reverse_main(args) -> None:
  220:     """For command line utility for CSV to Eclipse"""
> 221:     logger = getLogger_ecl2csv(__name__, vars(args))
  222:     satfunc_df = pd.read_csv(args.csvfile)
  223:     logger.info("Parsed %s", args.csvfile)
```


## File ecl2df/nnc.py - Line 281 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 16)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  279: def nnc_main(args) -> None:
  280:     """Command line access point from main() or from ecl2csv via subparser"""
> 281:     logger = getLogger_ecl2csv(__name__, vars(args))
  282:     eclfiles = EclFiles(args.DATAFILE)
  283:     nncdf = df(eclfiles, coords=args.coords, pillars=args.pillars)
```


## File ecl2df/trans.py - Line 304 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 25)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  302: def trans_main(args):
  303:     """This is the command line API"""
> 304:     logger = getLogger_ecl2csv(__name__, vars(args))
  305:     eclfiles = EclFiles(args.DATAFILE)
  306:     trans_df = df(
```


## File ecl2df/pvt.py - Line 315 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 25)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  313: def pvt_reverse_main(args) -> None:
  314:     """Entry-point for module, for command line utility for CSV to Eclipse"""
> 315:     logger = getLogger_ecl2csv(__name__, vars(args))
  316:     pvt_df = pd.read_csv(args.csvfile)
  317:     logger.info("Parsed %s", args.csvfile)
```


## File ecl2df/equil.py - Line 347 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 24)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  345: def equil_reverse_main(args) -> None:
  346:     """Entry-point for module, for command line utility for CSV to Eclipse"""
> 347:     logger = getLogger_ecl2csv(__name__, vars(args))
  348:     equil_df = pd.read_csv(args.csvfile)
  349:     logger.info("Parsed %s", args.csvfile)
```


## File ecl2df/pillars.py - Line 414 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 13)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  412: def pillars_main(args) -> None:
  413:     """This is the command line API"""
> 414:     logger = getLogger_ecl2csv(__name__, vars(args))
  415:
  416:     eclfiles = EclFiles(args.DATAFILE)
```


## File ecl2df/gruptree.py - Line 450 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 30)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  448: def gruptree_main(args) -> None:
  449:     """Entry-point for module, for command line utility."""
> 450:     logger = getLogger_ecl2csv(__name__, vars(args))
  451:     if not args.output and not args.prettyprint:
  452:         print("Nothing to do. Set --output or --prettyprint")
```


## File ecl2df/rft.py - Line 678 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 32)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  676: def rft_main(args) -> None:
  677:     """Entry-point for module, for command line utility"""
> 678:     logger = getLogger_ecl2csv(__name__, vars(args))
  679:     if args.DATAFILE.endswith(".RFT"):
  680:         # Support the RFT file as an argument also:
```


## File ecl2df/grid.py - Line 734 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 29)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  732: def grid_main(args) -> None:
  733:     """This is the command line API"""
> 734:     logger = getLogger_ecl2csv(__name__, vars(args))
  735:     eclfiles = EclFiles(args.DATAFILE)
  736:     grid_df = df(
```


## File ecl2df/summary.py - Line 805 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 23)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  803: def summary_reverse_main(args) -> None:
  804:     """Entry point for usage with "csv2ecl summary" on the command line"""
> 805:     logger = getLogger_ecl2csv(__name__, vars(args))
  806:
  807:     summary_df = pd.read_csv(args.csvfile)
```


## File ecl2df/compdat.py - Line 841 - W0621 (redefined-outer-name)

- `message: Redefining name 'logger' from outer scope (line 40)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  839: def compdat_main(args):
  840:     """Entry-point for module, for command line utility"""
> 841:     logger = getLogger_ecl2csv(__name__, vars(args))
  842:     eclfiles = EclFiles(args.DATAFILE)
  843:     compdat_df = df(eclfiles, initvectors=args.initvectors)
```


# W0703: broad-except

## File ecl2df/parameters.py - Line 127 - W0703 (broad-except)

- `message: Catching too general exception Exception`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  125:             # yaml happily parses txt files into a single line, don't want that.
  126:             params_dict = None
> 127:     except Exception as yaml_exc:
  128:         yaml_error = str(yaml_exc)
  129:         logger.debug("%s was not parseable with yaml, trying json.", filename)
```


## File ecl2df/parameters.py - Line 139 - W0703 (broad-except)

- `message: Catching too general exception Exception`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  137:             assert isinstance(params_dict, dict)
  138:             logger.debug(" - ok, parsed as yaml")
> 139:         except Exception as json_exc:
  140:             json_error = str(json_exc)
  141:             logger.debug("%s was not parseable with json, trying txt.", filename)
```


## File ecl2df/parameters.py - Line 150 - W0703 (broad-except)

- `message: Catching too general exception Exception`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  148:             assert isinstance(params_dict, dict)
  149:             logger.debug(" - ok, parsed as txt")
> 150:         except Exception as txt_exc:
  151:             txt_error = str(txt_exc)
  152:             logger.debug("%s was not parseable as txt, no more options", filename)
```


# W1514: unspecified-encoding

## File ecl2df/common.py - Line 88 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  86:     color.lower()
  87:     for color in (
> 88:         (Path(__file__).parent / "svg_color_keyword_names.txt").read_text().splitlines()
  89:     )
  90: ]
```


## File ecl2df/eclfiles.py - Line 112 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  110:     def file2deck(filename: Union[str, Path]) -> "opm.libopmcommon_python.Deck":
  111:         """Try to convert standalone files into opm.io Deck objects"""
> 112:         with open(filename) as fhandle:
  113:             filestring = "".join(fhandle.readlines())
  114:             return EclFiles.str2deck(filestring)
```


## File ecl2df/parameters.py - Line 115 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  113:         raise FileNotFoundError(str(filename) + " not found")
  114:
> 115:     if not Path(filename).read_text().strip():
  116:         logger.warning("%s was empty", filename)
  117:         return {}
```


## File ecl2df/parameters.py - Line 122 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  120:     try:
  121:         logger.debug("Trying to parse %s with yaml.safe_load()", filename)
> 122:         params_dict = yaml.safe_load(Path(filename).read_text())
  123:         logger.debug(" - ok, parsed as yaml")
  124:         if not isinstance(params_dict, dict):
```


## File ecl2df/parameters.py - Line 135 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  133:         try:
  134:             logger.debug("Trying to parse %s with json.load()", filename)
> 135:             with open(filename) as f_handle:
  136:                 params_dict = json.load(f_handle)
  137:             assert isinstance(params_dict, dict)
```


## File ecl2df/common.py - Line 136 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  128: def write_inc_stdout_file(string: str, outputfilename: str) -> None:
  ...
  134:         print(string)
  135:     else:
> 136:         Path(outputfilename).write_text(string)
  137:         print(f"Wrote to {outputfilename}")
  138:
```


## File ecl2df/fipreports.py - Line 138 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   98: def df(prtfile: Union[str, EclFiles], fipname: str = "FIPNUM") -> pd.DataFrame:
  ...
  136:     opm = False
  137:
> 138:     with open(prtfile) as prt_fh:
  139:         logger.info(
  140:             "Parsing file %s for blocks starting with %s REPORT REGION",
```


## File ecl2df/satfunc.py - Line 203 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  190: def satfunc_main(args) -> None:
  ...
  201:         # This might be an include file for which we have to infer/guess
  202:         # TABDIMS. Then we send it to df() as a string
> 203:         satfunc_df = df(Path(args.DATAFILE).read_text(), keywords=args.keywords)
  204:     if "SATNUM" in satfunc_df and "KEYWORD" in satfunc_df:
  205:         satnums = str(len(satfunc_df["SATNUM"].unique()))
```


## File ecl2df/pvt.py - Line 296 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  281: def pvt_main(args) -> None:
  ...
  294:         # the number of saturation functions, this is necessarily
  295:         # more error-prone, and it needs a string as input.
> 296:         stringdeck = Path(args.DATAFILE).read_text()
  297:         pvt_df = df(stringdeck, keywords=args.keywords)
  298:     if "PVTNUM" in pvt_df and "KEYWORD" in pvt_df:
```


## File ecl2df/equil.py - Line 328 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  314: def equil_main(args) -> None:
  ...
  326:         # This might be an include file for which we have to infer/guess
  327:         # EQLDIMS. Then we send it to df() as a string
> 328:         equil_df = df(Path(args.DATAFILE).read_text())
  329:
  330:     if "EQLNUM" in equil_df and "KEYWORD" in equil_df:
```


## File ecl2df/common.py - Line 732 - W1514 (unspecified-encoding)

- `message: Using open without explicitly specifying an encoding`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  696: def parse_lyrfile(filename: str) -> Optional[List[Dict[str, Any]]]:
  ...
  730:     """  # noqa
  731:
> 732:     zonelines = Path(filename).read_text().splitlines()
  733:
  734:     # Remove comments, support both "--" and "#":
```


# C0103: invalid-name

## File ecl2df/compdat.py - Line 423 - C0103 (invalid-name)

- `message: Variable name "val_I" doesn't conform to snake_case naming style`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  396: def unroll_complump(complump_df: pd.DataFrame) -> pd.DataFrame:
  ...
  421:
  422:     for _, row in complump_df.iterrows():
> 423:         val_I = int(row["I"])
  424:         val_J = int(row["J"])
  425:         val_K1 = int(row["K1"])
```


## File ecl2df/compdat.py - Line 424 - C0103 (invalid-name)

- `message: Variable name "val_J" doesn't conform to snake_case naming style`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  396: def unroll_complump(complump_df: pd.DataFrame) -> pd.DataFrame:
  ...
  422:     for _, row in complump_df.iterrows():
  423:         val_I = int(row["I"])
> 424:         val_J = int(row["J"])
  425:         val_K1 = int(row["K1"])
  426:         val_K2 = int(row["K2"])
```


## File ecl2df/compdat.py - Line 425 - C0103 (invalid-name)

- `message: Variable name "val_K1" doesn't conform to snake_case naming style`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  396: def unroll_complump(complump_df: pd.DataFrame) -> pd.DataFrame:
  ...
  423:         val_I = int(row["I"])
  424:         val_J = int(row["J"])
> 425:         val_K1 = int(row["K1"])
  426:         val_K2 = int(row["K2"])
  427:         if val_I < 0 or val_J < 0 or val_K1 < 0 or val_K2 < 0:
```


## File ecl2df/compdat.py - Line 426 - C0103 (invalid-name)

- `message: Variable name "val_K2" doesn't conform to snake_case naming style`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  396: def unroll_complump(complump_df: pd.DataFrame) -> pd.DataFrame:
  ...
  424:         val_J = int(row["J"])
  425:         val_K1 = int(row["K1"])
> 426:         val_K2 = int(row["K2"])
  427:         if val_I < 0 or val_J < 0 or val_K1 < 0 or val_K2 < 0:
  428:             raise ValueError(
```


## File ecl2df/compdat.py - Line 642 - C0103 (invalid-name)

- `message: Variable name "C1" doesn't conform to snake_case naming style`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587: def expand_complump_in_welopen_df(
  ...
  640:             # Found a row that refers to complump numbers
  641:             # Check that the cumplump numbers are ok:
> 642:             C1, C2 = int(row["C1"]), int(row["C2"])
  643:             if C1 < 0 or C2 < 0:
  644:                 raise ValueError(f"Negative values for C1/C2 is not allowed: {row}")
```


## File ecl2df/compdat.py - Line 642 - C0103 (invalid-name)

- `message: Variable name "C2" doesn't conform to snake_case naming style`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587: def expand_complump_in_welopen_df(
  ...
  640:             # Found a row that refers to complump numbers
  641:             # Check that the cumplump numbers are ok:
> 642:             C1, C2 = int(row["C1"]), int(row["C2"])
  643:             if C1 < 0 or C2 < 0:
  644:                 raise ValueError(f"Negative values for C1/C2 is not allowed: {row}")
```


# C0116: missing-function-docstring

## File ecl2df/hook_implementations/jobs.py - Line 11 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   9: except ModuleNotFoundError:
  10:     # ert is not installed - use dummy/transparent function decorators.
> 11:     def hook_implementation(func):
  12:         return func
  13:
```


## File ecl2df/hook_implementations/jobs.py - Line 14 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  12:         return func
  13:
> 14:     def plugin_response(plugin_name):  # pylint: disable=unused-argument
  15:         def decorator(func):
  16:             return func
```


## File ecl2df/hook_implementations/jobs.py - Line 34 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  32: @hook_implementation
  33: @plugin_response(plugin_name="ecl2df")
> 34: def installable_jobs():
  35:     return _get_jobs_from_directory("config_jobs")
  36:
```


## File ecl2df/hook_implementations/jobs.py - Line 49 - C0116 (missing-function-docstring)

- `message: Missing function or method docstring`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  47: @hook_implementation
  48: @plugin_response(plugin_name="ecl2df")
> 49: def job_documentation(job_name):
  50:     ecl2df_jobs = set(installable_jobs().data.keys())
  51:     if job_name not in ecl2df_jobs:
```


# C0201: consider-iterating-dictionary

## File ecl2df/compdat.py - Line 566 - C0201 (consider-iterating-dictionary)

- `message: Consider iterating the dictionary directly instead of calling .keys()`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  440: def expand_wlist(wlist_df: pd.DataFrame) -> pd.DataFrame:
  ...
  564:                 )
  565:             )
> 566:             for wlist in currentstate.keys():
  567:                 if wlist == wlist_record["NAME"]:
  568:                     continue
```


# C0206: consider-using-dict-items

## File ecl2df/trans.py - Line 226 - C0206 (consider-using-dict-items)

- `message: Consider iterating with .items()`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   28: def df(
  ...
  224:             "TRAN": "sum",
  225:         }
> 226:         aggregators = {key: aggregators[key] for key in aggregators if key in trans_df}
  227:         trans_df = trans_df.groupby(pairname).agg(aggregators).reset_index()
  228:
```


# C0209: consider-using-f-string

## File ecl2df/csv2ecl.py - Line 40 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  28: def get_parser() -> argparse.ArgumentParser:
  ...
  38:         "--version",
  39:         action="version",
> 40:         version="%(prog)s {version}".format(version=__version__),
  41:     )
  42:
```


## File ecl2df/ecl2csv.py - Line 54 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  42: def get_parser() -> argparse.ArgumentParser:
  ...
  52:         "--version",
  53:         action="version",
> 54:         version="%(prog)s {version}".format(version=__version__),
  55:     )
  56:
```


## File ecl2df/hook_implementations/jobs.py - Line 54 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  49: def job_documentation(job_name):
  ...
  52:         return None
  53:
> 54:     module_name = "ecl2df.{job_name}".format(job_name=job_name.lower())
  55:
  56:     description = _get_module_variable_if_exists(
```


## File ecl2df/faults.py - Line 96 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  84: def faults_main(args) -> None:
  ...
  94:         index=False,
  95:         caller_logger=logger,
> 96:         logstr="Wrote to {}".format(args.output),
  97:     )
```


## File ecl2df/wcon.py - Line 104 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   92: def wcon_main(args) -> None:
  ...
  102:         index=False,
  103:         caller_logger=logger,
> 104:         logstr="Wrote to {}".format(args.output),
  105:     )
```


## File ecl2df/parameters.py - Line 157 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  101: def load(filename: Union[str, Path]) -> Dict[str, Any]:
  ...
  155:         logger.warning("%s could not be parsed as yaml, json or txt", filename)
  156:         logger.warning("%s%s%s", str(yaml_error), str(json_error), str(txt_error))
> 157:         raise ValueError("Could not parse {}".format(filename))
  158:
  159:     # Filter to values that are NOT dict's. We can have dict as value when
```


## File ecl2df/equil.py - Line 265 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  247: def equil_fromdeck(
  ...
  263:     if not phases or phases not in RENAMERS:
  264:         raise ValueError(
> 265:             "Could not determine phase configuration, got '{}'".format(phases)
  266:         )
  267:     columnrenamer = RENAMERS[phases_from_deck(deck)]
```


## File ecl2df/nnc.py - Line 267 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  200: def df2ecl_editnnc(
  ...
  265:         string += " "
  266:         string += common.comment_formatter(
> 267:             "  {} nnc connections, avg multiplier {}".format(
  268:                 len(nnc_df), nnc_df["TRANM"].mean()
  269:             )
```


## File ecl2df/nnc.py - Line 289 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  279: def nnc_main(args) -> None:
  ...
  287:         index=False,
  288:         caller_logger=logger,
> 289:         logstr="Wrote to {}".format(args.output),
  290:     )
  291:     nncdf.to_csv(args.output, index=False)
```


## File ecl2df/satfunc.py - Line 349 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  344: def _df2ecl_satfuncs(
  ...
  347:     if dframe.empty:
  348:         return "-- No data!\n"
> 349:     string = "{}\n".format(keyword)
  350:     string += common.comment_formatter(comment)
  351:
```


## File ecl2df/pvt.py - Line 361 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  350: def df2ecl_rock(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  359:     string = "ROCK\n"
  360:     string += common.comment_formatter(comment)
> 361:     string += "--   {:^21} {:^21}\n".format("PRESSURE", "COMPRESSIBILITY")
  362:     if "KEYWORD" not in dframe:
  363:         # Use everything..
```


## File ecl2df/rft.py - Line 368 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  329: def split_seg_icd(seg_data: pd.DataFrame) -> pd.DataFrame:
  ...
  366:     icd_seg_data.columns = ["ICD_" + x for x in icd_seg_data.columns]
  367:
> 368:     msg = "Found %d ICD segments, indices %s" % (
  369:         len(icd_seg_data),
  370:         str(icd_seg_data["ICD_SEGIDX"].values),
```


## File ecl2df/pvt.py - Line 374 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  350: def df2ecl_rock(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  372:     subset = subset.set_index("PVTNUM").sort_index()
  373:     for _, row in subset.iterrows():
> 374:         string += "  {PRESSURE:20.7f} {COMPRESSIBILITY:20.7f} /\n".format(
  375:             **(row.to_dict())
  376:         )
```


## File ecl2df/satfunc.py - Line 375 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  362:     def _df2ecl_satfuncs_satnum(keyword, dframe):
  ...
  373:     # Loop over every SATNUM
  374:     for satnum in subset.index.unique():
> 375:         string += "-- SATNUM: {}\n".format(satnum)
  376:         string += _df2ecl_satfuncs_satnum(keyword, subset[subset.index == satnum])
  377:     return string + "\n"
```


## File ecl2df/pvt.py - Line 406 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  380: def df2ecl_density(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  404:     subset = subset.set_index("PVTNUM").sort_index()
  405:     for _, row in subset.iterrows():
> 406:         string += "  {OILDENSITY:20.7f} {WATERDENSITY:20.7f}".format(**(row.to_dict()))
  407:         string += " {GASDENSITY:20.7f} /\n".format(**(row.to_dict()))
  408:     return string + "\n"
```


## File ecl2df/pvt.py - Line 407 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  380: def df2ecl_density(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  405:     for _, row in subset.iterrows():
  406:         string += "  {OILDENSITY:20.7f} {WATERDENSITY:20.7f}".format(**(row.to_dict()))
> 407:         string += " {GASDENSITY:20.7f} /\n".format(**(row.to_dict()))
  408:     return string + "\n"
  409:
```


## File ecl2df/pvt.py - Line 425 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  411: def df2ecl_pvtw(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  423:     string = "PVTW\n"
  424:     string += common.comment_formatter(comment)
> 425:     string += "--   {:^21} {:^21} {:^21} {:^21} {:^21}  \n".format(
  426:         "PRESSURE", "VOLUMEFACTOR", "COMPRESSIBILITY", "VISCOSITY", "VISCOSIBILITY"
  427:     )
```


## File ecl2df/pvt.py - Line 440 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  411: def df2ecl_pvtw(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  438:     subset = subset.set_index("PVTNUM").sort_index()
  439:     for _, row in subset.iterrows():
> 440:         string += "  {PRESSURE:20.7f} {VOLUMEFACTOR:20.7f} ".format(**(row.to_dict()))
  441:         string += "{COMPRESSIBILITY:20.7f} {VISCOSITY:20.7f} ".format(**(row.to_dict()))
  442:         string += "{VISCOSIBILITY:20.7f}/\n".format(**(row.to_dict()))
```


## File ecl2df/pvt.py - Line 441 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  411: def df2ecl_pvtw(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  439:     for _, row in subset.iterrows():
  440:         string += "  {PRESSURE:20.7f} {VOLUMEFACTOR:20.7f} ".format(**(row.to_dict()))
> 441:         string += "{COMPRESSIBILITY:20.7f} {VISCOSITY:20.7f} ".format(**(row.to_dict()))
  442:         string += "{VISCOSIBILITY:20.7f}/\n".format(**(row.to_dict()))
  443:     return string + "\n"
```


## File ecl2df/pvt.py - Line 442 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  411: def df2ecl_pvtw(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  440:         string += "  {PRESSURE:20.7f} {VOLUMEFACTOR:20.7f} ".format(**(row.to_dict()))
  441:         string += "{COMPRESSIBILITY:20.7f} {VISCOSITY:20.7f} ".format(**(row.to_dict()))
> 442:         string += "{VISCOSIBILITY:20.7f}/\n".format(**(row.to_dict()))
  443:     return string + "\n"
  444:
```


## File ecl2df/pvt.py - Line 488 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  483:     def _pvtg_pvtnum_pg(dframe):
  ...
  486:         assert len(dframe.index.unique()) == 1
  487:         p_gas = dframe.index.values[0]
> 488:         string += "{:20.7f}  ".format(p_gas)
  489:         for rowidx, row in dframe.reset_index().iterrows():
  490:             if rowidx > 0:
```


## File ecl2df/pvt.py - Line 496 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  483:     def _pvtg_pvtnum_pg(dframe):
  ...
  494:             string += (
  495:                 indent
> 496:                 + "{OGR:20.7f}  {VOLUMEFACTOR:20.7f}  {VISCOSITY:20.7f}".format(
  497:                     **(row.to_dict())
  498:                 )
```


## File ecl2df/pvt.py - Line 500 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  483:     def _pvtg_pvtnum_pg(dframe):
  ...
  498:                 )
  499:             )
> 500:         string += " /\n-- End PRESSURE={}\n".format(p_gas)
  501:         return string
  502:
```


## File ecl2df/equil.py - Line 519 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  513: def _df2ecl_equilfuncs(
  ...
  517:     if dframe.empty:
  518:         return "-- No data!"
> 519:     string = "{}\n".format(keyword)
  520:     string += common.comment_formatter(comment)
  521:     col_headers = RENAMERS[keyword]["DATA"]
```


## File ecl2df/equil.py - Line 523 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  513: def _df2ecl_equilfuncs(
  ...
  521:     col_headers = RENAMERS[keyword]["DATA"]
  522:
> 523:     string += "--   {:^21} {:^21} \n".format("DEPTH", col_headers[1])
  524:     if "KEYWORD" not in dframe:
  525:         # Use everything..
```


## File ecl2df/rft.py - Line 539 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  517: def df(
  ...
  537:
  538:         logger.info(
> 539:             "Extracting {} well {:>8} at {}, record index: {}".format(
  540:                 rftrecord["wellmodel"],
  541:                 rftrecord["wellname"],
```


## File ecl2df/equil.py - Line 543 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  530:     def _df2ecl_equilfuncs_eqlnum(dframe: pd.DataFrame) -> str:
  ...
  541:         dframe = dframe.sort_values("Z")
  542:         for _, row in dframe.iterrows():
> 543:             string += "  {:20.7f} {:20.7f}\n".format(
  544:                 row[col_headers[0]], row[col_headers[1]]
  545:             )
```


## File ecl2df/summary.py - Line 545 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  500: def _fix_dframe_for_libecl(dframe: pd.DataFrame) -> pd.DataFrame:
  ...
  543:     ):
  544:         raise ValueError(
> 545:             "dataframe must have a datetime index, got %s of type %s"
  546:             % (dframe.index.values[0], type(dframe.index.values[0]))
  547:         )
```


## File ecl2df/equil.py - Line 550 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  530:     def _df2ecl_equilfuncs_eqlnum(dframe: pd.DataFrame) -> str:
  ...
  548:     subset = subset.set_index("EQLNUM").sort_index()
  549:     for eqlnum in subset.index.unique():
> 550:         string += "-- EQLNUM: {}\n".format(eqlnum)
  551:         string += _df2ecl_equilfuncs_eqlnum(subset[subset.index == eqlnum])
  552:     return string + "\n"
```


## File ecl2df/pvt.py - Line 573 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  562: def df2ecl_pvdo(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  571:     string = "PVDO\n"
  572:     string += common.comment_formatter(comment)
> 573:     string += "--   {:^21} {:^21} {:^21}  \n".format(
  574:         "PRESSURE", "VOLUMEFACTOR", "VISCOSITY"
  575:     )
```


## File ecl2df/pvt.py - Line 599 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587:     def _pvdo_pvtnum(dframe: pd.DataFrame) -> str:
  ...
  597:         dframe = dframe.sort_values("PRESSURE")
  598:         for _, row in dframe.iterrows():
> 599:             string += "  {PRESSURE:20.7f} {VOLUMEFACTOR:20.7f} ".format(
  600:                 **(row.to_dict())
  601:             )
```


## File ecl2df/pvt.py - Line 602 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587:     def _pvdo_pvtnum(dframe: pd.DataFrame) -> str:
  ...
  600:                 **(row.to_dict())
  601:             )
> 602:             string += "{VISCOSITY:20.7f}\n".format(**(row.to_dict()))
  603:         return string + "/\n"
  604:
```


## File ecl2df/pvt.py - Line 607 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587:     def _pvdo_pvtnum(dframe: pd.DataFrame) -> str:
  ...
  605:     subset = subset.set_index("PVTNUM").sort_index()
  606:     for pvtnum in subset.index.unique():
> 607:         string += "-- PVTNUM: {}\n".format(pvtnum)
  608:         string += _pvdo_pvtnum(subset[subset.index == pvtnum])
  609:
```


## File ecl2df/pvt.py - Line 627 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  613: def df2ecl_pvto(dframe: pd.DataFrame, comment: Optional[str] = None) -> str:
  ...
  625:         "RS", "PRESSURE", "VOLUMEFACTOR", "VISCOSITY"
  626:     )
> 627:     string += "-- {:^22} {:^22} {:^22} {:^22}\n".format(
  628:         "*", "PRESSURE", "VOLUMEFACTOR", "VISCOSITY"
  629:     )
```


## File ecl2df/grid.py - Line 640 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  589: def df2ecl(
  ...
  638:             dtype = float
  639:         else:
> 640:             raise ValueError("Wrong dtype argument {}".format(dtype))
  641:
  642:     # Figure out the total number of cells for which we need to export data for:
```


## File ecl2df/pvt.py - Line 655 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  650:     def _pvto_pvtnum_rs(dframe: pd.DataFrame) -> str:
  ...
  653:         assert len(dframe.index.unique()) == 1
  654:         rs = dframe.index.values[0]
> 655:         string += "{:20.7f}  ".format(rs)
  656:         for rowidx, row in dframe.reset_index().iterrows():
  657:             if rowidx > 0:
```


## File ecl2df/pvt.py - Line 663 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  650:     def _pvto_pvtnum_rs(dframe: pd.DataFrame) -> str:
  ...
  661:             string += (
  662:                 indent
> 663:                 + "{PRESSURE:20.7f}  {VOLUMEFACTOR:20.7f}  {VISCOSITY:20.7f}".format(
  664:                     **(row.to_dict())
  665:                 )
```


## File ecl2df/pvt.py - Line 667 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  650:     def _pvto_pvtnum_rs(dframe: pd.DataFrame) -> str:
  ...
  665:                 )
  666:             )
> 667:         string += " /\n-- End RS={}\n".format(rs)
  668:         return string
  669:
```


## File ecl2df/grid.py - Line 692 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  589: def df2ecl(
  ...
  690:     for keyword in keywords:
  691:         if keyword not in grid_df.columns:
> 692:             raise ValueError("Keyword {} not found in grid dataframe".format(keyword))
  693:         vector = np.zeros(global_size)
  694:         vector[grid_df["GLOBAL_INDEX"].astype(int).values] = grid_df[keyword]
```


## File ecl2df/grid.py - Line 721 - C0209 (consider-using-f-string)

- `message: Formatting a regular string which could be a f-string`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  589: def df2ecl(
  ...
  719:         string += "\n/"
  720:         if not nocomments:
> 721:             string += " -- {}: {} active cells, {} total cell count\n".format(
  722:                 keyword, active_cells, global_size
  723:             )
```


# R0401: cyclic-import

## File ecl2df/hook_implementations/__init__.py - R0401 (cyclic-import)

- `message: Cyclic import (ecl2df -> ecl2df.eclfiles -> ecl2df.common)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`


# R0801: duplicate-code

## File ecl2df/hook_implementations/__init__.py - R0801 (duplicate-code)

- `message: Similar lines in 2 files`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
==ecl2df.csv2ecl:[33:51]
==ecl2df.ecl2csv:[47:65]
            "Documentation at https://equinor.github.io/ecl2df/ "
        ),
    )
    parser.add_argument(
        "--version",
        action="version",
        version="%(prog)s {version}".format(version=__version__),
    )

    if sys.version_info.major >= 3 and sys.version_info.minor >= 7:
        subparsers = parser.add_subparsers(  # type: ignore
            required=True,
            dest="subcommand",
            parser_class=argparse.ArgumentParser,
        )
    else:
        subparsers = parser.add_subparsers(parser_class=argparse.ArgumentParser)
```


## File ecl2df/hook_implementations/__init__.py - R0801 (duplicate-code)

- `message: Similar lines in 2 files`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
==ecl2df.grid:[536:548]
==ecl2df.pillars:[352:363]
    )
    parser.add_argument(
        "--stackdates",
        action="store_true",
        help=(
            "If set, the dates from restart data will not be in the column "
            "but instead there will be a DATE column with the dates. Note "
            "that the static data will be repeated for each DATE."
        ),
    )

    parser.add_argument(
```


## File ecl2df/hook_implementations/__init__.py - R0801 (duplicate-code)

- `message: Similar lines in 2 files`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
==ecl2df.compdat:[814:826]
==ecl2df.faults:[65:77]
def fill_parser(parser: argparse.ArgumentParser) -> argparse.ArgumentParser:
    """Set up sys.argv parsers.

    Arguments:
        parser: argparse.ArgumentParser or argparse.subparser
    """
    parser.add_argument("DATAFILE", help="Name of Eclipse DATA file.")
    parser.add_argument(
        "-o",
        "--output",
        type=str,
        help="Name of output csv file.",
```


# R0902: too-many-instance-attributes

## File ecl2df/eclfiles.py - Line 42 - R0902 (too-many-instance-attributes)

- `message: Too many instance attributes (8/7)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  40:
  41:
> 42: class EclFiles(object):
  43:     """
  44:     Class for holding an Eclipse deck with result files
```


# R0912: too-many-branches

## File ecl2df/trans.py - Line 28 - R0912 (too-many-branches)

- `message: Too many branches (22/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  26:
  27:
> 28: def df(
  29:     eclfiles: EclFiles,
  30:     vectors: Union[str, List[str]] = None,
```


## File ecl2df/gruptree.py - Line 33 - R0912 (too-many-branches)

- `message: Too many branches (19/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  31:
  32:
> 33: def df(
  34:     deck: Union[EclFiles, "opm.libopmcommon_python.Deck"],
  35:     startdate: Optional[datetime.date] = None,
```


## File ecl2df/grid.py - Line 46 - R0912 (too-many-branches)

- `message: Too many branches (14/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  44:
  45:
> 46: def dates2rstindices(
  47:     eclfiles: EclFiles, dates: Optional[Union[str, datetime.date, List[datetime.date]]]
  48: ) -> Tuple[List[int], List[datetime.date], List[str]]:
```


## File ecl2df/compdat.py - Line 72 - R0912 (too-many-branches)

- `message: Too many branches (42/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  70:
  71:
> 72: def deck2dfs(
  73:     deck: "opm.io.Deck",
  74:     start_date: Optional[Union[str, datetime.date]] = None,
```


## File ecl2df/fipreports.py - Line 98 - R0912 (too-many-branches)

- `message: Too many branches (13/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   96:
   97:
>  98: def df(prtfile: Union[str, EclFiles], fipname: str = "FIPNUM") -> pd.DataFrame:
   99:     """
  100:     Parses a PRT file from Eclipse and finds FIPXXXX REGION REPORT blocks and
```


## File ecl2df/grid.py - Line 118 - R0912 (too-many-branches)

- `message: Too many branches (16/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  116:
  117:
> 118: def rst2df(
  119:     eclfiles: EclFiles,
  120:     date: Union[str, datetime.date, List[datetime.date]],
```


## File ecl2df/pillars.py - Line 191 - R0912 (too-many-branches)

- `message: Too many branches (13/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  189:
  190:
> 191: def compute_pillar_contacts(
  192:     grid_df: pd.DataFrame,
  193:     region: Optional[str] = None,
```


## File ecl2df/summary.py - Line 192 - R0912 (too-many-branches)

- `message: Too many branches (14/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  190:
  191:
> 192: def resample_smry_dates(
  193:     eclsumsdates: List[dt.datetime],
  194:     freq: str = FREQ_RAW,
```


## File ecl2df/common.py - Line 238 - R0912 (too-many-branches)

- `message: Too many branches (16/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  236:
  237:
> 238: def parse_opmio_deckrecord(
  239:     record: "opm.libopmcommon_python.DeckRecord",
  240:     keyword: str,
```


## File ecl2df/summary.py - Line 296 - R0912 (too-many-branches)

- `message: Too many branches (16/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  294:
  295:
> 296: def df(
  297:     eclfiles: EclFiles,
  298:     time_index: Optional[str] = None,
```


## File ecl2df/compdat.py - Line 440 - R0912 (too-many-branches)

- `message: Too many branches (18/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  438:
  439:
> 440: def expand_wlist(wlist_df: pd.DataFrame) -> pd.DataFrame:
  441:     """Expand all WLIST actions in a dataframe into a dataframe with
  442:     only "NEW" actions. This makes the dataframe cheaper to parse to
```


## File ecl2df/common.py - Line 480 - R0912 (too-many-branches)

- `message: Too many branches (16/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  478:
  479:
> 480: def df2ecl(
  481:     dataframe: pd.DataFrame,
  482:     keywords: Optional[Union[str, List[str], List[Optional[str]]]] = None,
```


## File ecl2df/grid.py - Line 589 - R0912 (too-many-branches)

- `message: Too many branches (18/12)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587:
  588:
> 589: def df2ecl(
  590:     grid_df: pd.DataFrame,
  591:     keywords: Union[str, List[str]],
```


# R0913: too-many-arguments

## File ecl2df/trans.py - Line 28 - R0913 (too-many-arguments)

- `message: Too many arguments (8/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  26:
  27:
> 28: def df(
  29:     eclfiles: EclFiles,
  30:     vectors: Union[str, List[str]] = None,
```


## File ecl2df/pillars.py - Line 35 - R0913 (too-many-arguments)

- `message: Too many arguments (7/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  33:
  34:
> 35: def df(
  36:     eclfiles: EclFiles,
  37:     region: str = None,
```


## File ecl2df/pillars.py - Line 191 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  189:
  190:
> 191: def compute_pillar_contacts(
  192:     grid_df: pd.DataFrame,
  193:     region: Optional[str] = None,
```


## File ecl2df/grid.py - Line 445 - R0913 (too-many-arguments)

- `message: Too many arguments (7/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  443:
  444:
> 445: def df(
  446:     eclfiles: EclFiles,
  447:     vectors: Union[str, List[str]] = "*",
```


## File ecl2df/common.py - Line 480 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  478:
  479:
> 480: def df2ecl(
  481:     dataframe: pd.DataFrame,
  482:     keywords: Optional[Union[str, List[str], List[Optional[str]]]] = None,
```


## File ecl2df/grid.py - Line 589 - R0913 (too-many-arguments)

- `message: Too many arguments (6/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587:
  588:
> 589: def df2ecl(
  590:     grid_df: pd.DataFrame,
  591:     keywords: Union[str, List[str]],
```


# R0914: too-many-locals

## File ecl2df/trans.py - Line 28 - R0914 (too-many-locals)

- `message: Too many local variables (21/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  26:
  27:
> 28: def df(
  29:     eclfiles: EclFiles,
  30:     vectors: Union[str, List[str]] = None,
```


## File ecl2df/gruptree.py - Line 33 - R0914 (too-many-locals)

- `message: Too many local variables (23/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  31:
  32:
> 33: def df(
  34:     deck: Union[EclFiles, "opm.libopmcommon_python.Deck"],
  35:     startdate: Optional[datetime.date] = None,
```


## File ecl2df/pillars.py - Line 35 - R0914 (too-many-locals)

- `message: Too many local variables (16/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  33:
  34:
> 35: def df(
  36:     eclfiles: EclFiles,
  37:     region: str = None,
```


## File ecl2df/compdat.py - Line 72 - R0914 (too-many-locals)

- `message: Too many local variables (34/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  70:
  71:
> 72: def deck2dfs(
  73:     deck: "opm.io.Deck",
  74:     start_date: Optional[Union[str, datetime.date]] = None,
```


## File ecl2df/fipreports.py - Line 98 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   96:
   97:
>  98: def df(prtfile: Union[str, EclFiles], fipname: str = "FIPNUM") -> pd.DataFrame:
   99:     """
  100:     Parses a PRT file from Eclipse and finds FIPXXXX REGION REPORT blocks and
```


## File ecl2df/grid.py - Line 118 - R0914 (too-many-locals)

- `message: Too many local variables (18/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  116:
  117:
> 118: def rst2df(
  119:     eclfiles: EclFiles,
  120:     date: Union[str, datetime.date, List[datetime.date]],
```


## File ecl2df/common.py - Line 160 - R0914 (too-many-locals)

- `message: Too many local variables (18/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  158:
  159:
> 160: def ecl_keyworddata_to_df(
  161:     deck,
  162:     keyword: str,
```


## File ecl2df/gruptree.py - Line 211 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  209:
  210:
> 211: def _merge_edges_and_nodeinfo(
  212:     currentedges: Dict[Tuple[str, str], Dict[str, Any]],
  213:     nodedata_df: pd.DataFrame,
```


## File ecl2df/common.py - Line 480 - R0914 (too-many-locals)

- `message: Too many local variables (16/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  478:
  479:
> 480: def df2ecl(
  481:     dataframe: pd.DataFrame,
  482:     keywords: Optional[Union[str, List[str], List[Optional[str]]]] = None,
```


## File ecl2df/rft.py - Line 517 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  515:
  516:
> 517: def df(
  518:     eclfiles: EclFiles, wellname: Optional[str] = None, date: Optional[str] = None
  519: ) -> pd.DataFrame:
```


## File ecl2df/summary.py - Line 646 - R0914 (too-many-locals)

- `message: Too many local variables (17/15)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  644:
  645:
> 646: def _libecl_eclsum_from_pandas(
  647:     case: str,
  648:     frame: pd.DataFrame,
```


# R0915: too-many-statements

## File ecl2df/trans.py - Line 28 - R0915 (too-many-statements)

- `message: Too many statements (95/50)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  26:
  27:
> 28: def df(
  29:     eclfiles: EclFiles,
  30:     vectors: Union[str, List[str]] = None,
```


## File ecl2df/gruptree.py - Line 33 - R0915 (too-many-statements)

- `message: Too many statements (55/50)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  31:
  32:
> 33: def df(
  34:     deck: Union[EclFiles, "opm.libopmcommon_python.Deck"],
  35:     startdate: Optional[datetime.date] = None,
```


## File ecl2df/compdat.py - Line 72 - R0915 (too-many-statements)

- `message: Too many statements (116/50)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  70:
  71:
> 72: def deck2dfs(
  73:     deck: "opm.io.Deck",
  74:     start_date: Optional[Union[str, datetime.date]] = None,
```


## File ecl2df/grid.py - Line 589 - R0915 (too-many-statements)

- `message: Too many statements (54/50)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  587:
  588:
> 589: def df2ecl(
  590:     grid_df: pd.DataFrame,
  591:     keywords: Union[str, List[str]],
```


# R0916: too-many-boolean-expressions

## File ecl2df/compdat.py - Line 763 - R0916 (too-many-boolean-expressions)

- `message: Too many boolean expressions in if statement (6/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  708: def applywelopen(
  ...
  761:
  762:     for _, row in welopen_df.iterrows():
> 763:         if (row["I"] is None and row["J"] is None and row["K"] is None) or (
  764:             row["I"] <= 0 and row["J"] <= 0 and row["K"] <= 0
  765:         ):
```


# R1702: too-many-nested-blocks

## File ecl2df/faults.py - Line 49 - R1702 (too-many-nested-blocks)

- `message: Too many nested blocks (6/5)`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  33: def df(deck: Union[EclFiles, "opm.libopmcommon_python.Deck"]) -> pd.DataFrame:
  ...
  47:     # It is allowed in Eclipse to use the keyword FAULTS
  48:     # as many times as needed. Thus we need to loop in some way:
> 49:     for keyword in deck:
  50:         if keyword.name == "FAULTS":
  51:             for rec in keyword:
```


# R1710: inconsistent-return-statements

## File ecl2df/summary.py - Line 64 - R1710 (inconsistent-return-statements)

- `message: Either all return statements in a function should return an expression, or none of them should.`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  62:
  63:
> 64: def _ensure_date_or_none(some_date: Optional[Union[str, dt.date]]) -> Optional[dt.date]:
  65:     """Ensures an object is either a date or None
  66:
```


# R1714: consider-using-in

## File ecl2df/wcon.py - Line 43 - R1714 (consider-using-in)

- `message: Consider merging these comparisons with "in" to "kword.name in ('DATES', 'START')"`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  31: def df(deck: Union[EclFiles, "opm.libopmcommon_python.Deck"]) -> pd.DataFrame:
  ...
  41:     date = None  # DATE columns will always be there, but can contain NaN
  42:     for kword in deck:
> 43:         if kword.name == "DATES" or kword.name == "START":
  44:             for rec in kword:
  45:                 logger.info("Parsing at date %s", str(date))
```


## File ecl2df/gruptree.py - Line 99 - R1714 (consider-using-in)

- `message: Consider merging these comparisons with "in" to "kword.name in ('DATES', 'START', 'TSTEP')"`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   33: def df(
  ...
   97:     found_keywords = {key: False for key in keywords}
   98:     for kword in deck:
>  99:         if kword.name == "DATES" or kword.name == "START" or kword.name == "TSTEP":
  100:             # Whenever we encounter a new DATES, it means that
  101:             # we have processed all the network keywords that
```


## File ecl2df/compdat.py - Line 106 - R1714 (consider-using-in)

- `message: Consider merging these comparisons with "in" to "kword.name in ('DATES', 'START')"`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   72: def deck2dfs(
  ...
  104:     date = start_date  # DATE column will always be there, but can contain NaN/None
  105:     for idx, kword in enumerate(deck):
> 106:         if kword.name == "DATES" or kword.name == "START":
  107:             for rec in kword:
  108:                 date = parse_opmio_date_rec(rec)
```


## File ecl2df/gruptree.py - Line 116 - R1714 (consider-using-in)

- `message: Consider merging these comparisons with "in" to "kword.name in ('DATES', 'START')"`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
   33: def df(
  ...
  114:             # Done dumping the data for the previous date, parse the fresh
  115:             # date:
> 116:             if kword.name == "DATES" or kword.name == "START":
  117:                 for rec in kword:
  118:                     date = parse_opmio_date_rec(rec)
```


# R1720: no-else-raise

## File ecl2df/compdat.py - Line 427 - R1720 (no-else-raise)

- `message: Unnecessary "elif" after "raise"`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  396: def unroll_complump(complump_df: pd.DataFrame) -> pd.DataFrame:
  ...
  425:         val_K1 = int(row["K1"])
  426:         val_K2 = int(row["K2"])
> 427:         if val_I < 0 or val_J < 0 or val_K1 < 0 or val_K2 < 0:
  428:             raise ValueError(
  429:                 f"Negative values for COMPLUMP coordinates are not allowed: {row}"
```


## File ecl2df/common.py - Line 808 - R1720 (no-else-raise)

- `message: Unnecessary "elif" after "raise"`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  790: def get_wells_matching_template(template: str, wells: list):
  ...
  806:         List of matched wells
  807:     """
> 808:     if template.startswith("*") or template.startswith("?"):
  809:         raise ValueError(
  810:             "Well template not allowed to start with a wildcard character: "
```


# R1735: use-dict-literal

## File ecl2df/gruptree.py - Line 81 - R1735 (use-dict-literal)

- `message: Consider using {} instead of dict()`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  33: def df(
  ...
  79:     # (which is a tuple of child and parent).
  80:     currentedges: Dict[str, Dict[Tuple[str, str], Dict[str, Any]]] = {
> 81:         "GRUPTREE": dict(),
  82:         "BRANPROP": dict(),
  83:     }
```


## File ecl2df/gruptree.py - Line 82 - R1735 (use-dict-literal)

- `message: Consider using {} instead of dict()`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  33: def df(
  ...
  80:     currentedges: Dict[str, Dict[Tuple[str, str], Dict[str, Any]]] = {
  81:         "GRUPTREE": dict(),
> 82:         "BRANPROP": dict(),
  83:     }
  84:     # Same approach for the welspecs keywords
```


## File ecl2df/gruptree.py - Line 85 - R1735 (use-dict-literal)

- `message: Consider using {} instead of dict()`
- `author : Håvard Berland <havb@equinor.com>`
- `date   : 2021-10-06T14:04:43`

```
  33: def df(
  ...
  83:     }
  84:     # Same approach for the welspecs keywords
> 85:     wellspecsedges: Dict[Tuple[str, str], str] = dict()
  86:     # Node properties from GRUPNET/NODEPROP is stored in a dataframe
  87:     # Note that it's not allowed to mix GRUPNET and NODEPROP in eclipse
```
